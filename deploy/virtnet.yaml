---
# Source: chart-virtnet/templates/virtnet-agent.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: virtnet-agent
  namespace: virtnet
---
# Source: chart-virtnet/templates/virtnet-ctrl.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: virtnet-ctrl
  namespace: virtnet
---
# Source: chart-virtnet/templates/secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: virtnet-webhook-secret
  namespace: virtnet
type: kubernetes.io/tls
data:
  ca.crt:  LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURHRENDQWdDZ0F3SUJBZ0lSQU9mWEZuMFFXTnNMYVN2NXVzaHpnNGt3RFFZSktvWklodmNOQVFFTEJRQXcKRlRFVE1CRUdBMVVFQXhNS2RtbHlkRzVsZEM1cGJ6QWdGdzB5TkRBeU1EWXdNak01TWpaYUdBOHlNakl6TVRJeQpNREF5TXpreU5sb3dGVEVUTUJFR0ExVUVBeE1LZG1seWRHNWxkQzVwYnpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtkcmhnWTZaa2s3U3dSUW9pZE1OcTdKc01WRzVUaDJ5dzFoUlh4L2F6VXYKMWhqZkxuZVpBQnZrMi8zK2ZLWmNlalR3cHJ6WWNjcGxkRFprQ0xsLzlHa0pzUXJxQXhBN1loUGpGbkJINGdacgpZQWlNcG1STWtidFVraGdQTXFYc0NrbU0xbTkzVXNnYk4vY3U1L3E0SWNiRTJaK0pmeDVEMi9vdUwrTzU3RlEvCnowMGwwcCs2RC91RlJlRnBNVWxPa244TkhjM3NvME9DTUVXMVJMY3JqSG00WFppMmxnQkQ2RVBFQ0c1S3JmencKczE1aHp2T05reDRHUmNFL3N0eDh3cDlaYlhGVmFmMy9mcGNNTGhjUnRiNDBQMndjUVl0K1lNams5YzZyOEZGdApMYSs2cjJzbEpmaGx3dDNNUDJqdnljUkpIU3M3WnhyNk04VkZQUGxPN3FzQ0F3RUFBYU5oTUY4d0RnWURWUjBQCkFRSC9CQVFEQWdLa01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTeDZWWDNLaVRUVWl4TndKLzZTRmx4a1hTbC9qQU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBSFhxaloxcitUWlo1bmJwbHhaNEs5dFJJV0dOUCtLMWlKUjhZZzVzRjhWL29UaXF5CjVCck9SVGJONlB0Z3VUby9PTndMMGl0R2Zvb1hucnFVUlNOdzh5UVFzUTdMNE52MGJ1RjN0N20ydnRvaUYyUWsKRldJWGthZzJSU3FpQWxBdkNJNS9yS0xQREorRTFycENPUGFZSzNzNkZFSStYWG5VUzMvd2ExN01KNXBmMEFFOQpzZ2hoRGRpVXphTWNNMy80ZGdjNE42OGpmTUNHQlRpZE5sZFpMUnFBQ1liZTdBWThIb0VnMURINDJFdk9GWVpsClRIcGcxV0ozbEhjOCswVVJJenpOS1dqMVJEbHFYR0ZrV3UzWjc5Nkh0a3JyalhXSnpoMlNieXlPeU9DYm5qaWkKZGVjSGx6OUpTcWVtcmFyaFBEODVVUEtRbnBXK2JvODlpMm1BaUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURiRENDQWxTZ0F3SUJBZ0lRQVl2VE1zRkk3UDllNWFXSDV1TmR4ekFOQmdrcWhraUc5dzBCQVFzRkFEQVYKTVJNd0VRWURWUVFERXdwMmFYSjBibVYwTG1sdk1DQVhEVEkwTURJd05qQXlNemt5TmxvWUR6SXlNak14TWpJdwpNREl6T1RJMldqQVZNUk13RVFZRFZRUURFd3AyYVhKMGJtVjBMbWx2TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBUThBTUlJQkNnS0NBUUVBMjVTYWdmUGlXNTc3dDlvZUVxeDVwaXltbnlCL0VZbTZFa29WUUIwWWVnZVQKMllXQ2ZwMkpLNFZJZ010MmxQTEVoWkxNZzdsUjRwZ2VWb1pQb0lPcUg2cjRkLzNiNXBOUEwyaTlzQlU2alJGVgovZ1RlUkJPQmdKOCtlZ2d5WmRQR3BTdFZSWVlmTXQ0OE9HajU1eTlyVkN2anlyc0V1TkRDdDVnZ1RsS0h1WS8vCjY0V3ZtTDZqU0JNNHNGMjZPdG5ob1RrTWJ4WlJpQ2EyN0E4ak9VaVh6a2NDWnFvSnBkZGUvb3hiWmlmOWMxcWMKYThWUXljSjdENlRzd2tTcmc5cXlqTENnaUh1c2lkMUlrRVhodWJPUEc2bWFyTDlaSWlQeEZ2cVppZ0c1L0tHZQpOaElELzliVVlwS3d2ZVpuenpPT0c1T2ZZMmd3TUM2TUg3YUVBb0xPZVFJREFRQUJvNEcxTUlHeU1BNEdBMVVkCkR3RUIvd1FFQXdJRm9EQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUhBd0l3REFZRFZSMFQKQVFIL0JBSXdBREJ6QmdOVkhSRUViREJxZ2dwMmFYSjBibVYwTG1sdmdpWjJhWEowYm1WMExXTjBjbXd1ZG1seQpkRzVsZEM1emRtTXVZMngxYzNSbGNpNXNiMk5oYklJWWRtbHlkRzVsZEMxamRISnNMblpwY25SdVpYUXVjM1pqCmdoUjJhWEowYm1WMExXTjBjbXd1ZG1seWRHNWxkSWNFZndBQUFUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUEKSE1oU0gvQnJ5emw1bnY5UnJqREk4Q3lkRi82OFl1ZlM1U1RVczR0bEppdm5xbCttZFNXdGN6Wk5OR1ZhcmR3NwprME8yc215anBoLzlsV0dxR3NTWTEwN0VXc1FpSDFPZjQxcDFYVElHa2huTHE5b2xwRktpWGZyejBHUW13L284ClV4RjB3WGtDV3ZIZVdPOUtiZ2IzL1ZnZmdndy92RXlBUE5xZHlJVEJLT2pabVVLMUxIZTRleDRINzhEbWtqZFUKbE53aUdsbXA4U0tXZE1MeGtDNmQ1d3c0Q2dLZlRhVXRJL3gwTXFhM1dPQk1KaThxb2krdktMTmNrVDZ3NHVwYQpMdjlzSFR4KzdvWkxVZTE4NEtodVZHNWpmMW1lMFMzaUR0ZTF1cEtNS0xiN09HZGVCR2RwTTlRZkhLQlYxbnNYClo1RE9XT0s1Y0pZV0Z0Rm0yUW1ETFE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBMjVTYWdmUGlXNTc3dDlvZUVxeDVwaXltbnlCL0VZbTZFa29WUUIwWWVnZVQyWVdDCmZwMkpLNFZJZ010MmxQTEVoWkxNZzdsUjRwZ2VWb1pQb0lPcUg2cjRkLzNiNXBOUEwyaTlzQlU2alJGVi9nVGUKUkJPQmdKOCtlZ2d5WmRQR3BTdFZSWVlmTXQ0OE9HajU1eTlyVkN2anlyc0V1TkRDdDVnZ1RsS0h1WS8vNjRXdgptTDZqU0JNNHNGMjZPdG5ob1RrTWJ4WlJpQ2EyN0E4ak9VaVh6a2NDWnFvSnBkZGUvb3hiWmlmOWMxcWNhOFZRCnljSjdENlRzd2tTcmc5cXlqTENnaUh1c2lkMUlrRVhodWJPUEc2bWFyTDlaSWlQeEZ2cVppZ0c1L0tHZU5oSUQKLzliVVlwS3d2ZVpuenpPT0c1T2ZZMmd3TUM2TUg3YUVBb0xPZVFJREFRQUJBb0lCQUY4blZvMWFFbzJCcDdOVQpZaFBWaWlIbzE0dTltVk1RVEFJQStKU0FCMHRhWFVlMkE0YTYzZVp1SzYwa2ZvNnRaVnc4OFVOajI0aEdRMTliCmRNWXFTRjdReUR1M1ZzUGtzanZwTjhwR2FNa1k2aHJhSVRkKy9HK3drbkp2ZXVlRmpsK2xGNTY1TUd2cXdrM3YKcjl2dlFLT0pJWDJJN2RMcEpIaExCRFRzcnNSS1JTOGJZSVlJY1NqV0tjNDdWd29hZ0F1QUFqcmFCeWIyU00wTApkeTh0eklTMStPQmtyTW5EcytoUHZ6aFNSRGZLR2Zmb2cxVVRQT0tBL0dXZUpOSUk4QkNGMDdHOXNEWDNFd0J4CkxGWFNtWWFHNmJHNUh6blU3bVNvVlZocUl1S3ViWUdQMmVWdFNoaDd4aVRZZlp2QzhmZVE3a0ZrUFB3R3NOY2QKdjlpQzFjRUNnWUVBN29pK0srSmF2Vmk3M1BtdHBxNVpIK1QrdU9KU3UvTnFaR2lQTVoxWk5GK1E2M0RDYklBUwoxTmM2VXZJRDFwQ1ZFWG9HSTRxK2hpdXZ1WUpRb3QwS2tKd2FraHVLMGEwL1V5aS9XMHhHT3pLZUIwUkxVRWQwCi9jdURjckxHcW5YTVJ4R21kK0JSeGFOTnZadjdmUXZWSERHMWFZUkpDZnZqelZXcmVGL1BTNnNDZ1lFQTY2aVUKVVYxM2NxLzExbzNUWFRMczFaV1RNSXluVEU0N2gvM0RzUXRnV3d0Mk9EZ2dVZUEvSnZabEphaWdONFo3aWcrVQpQWkM3Wk1Id21FclJ3aCt4cnA1VEdRZXVvMDFWNk1uK1o4bmlscittQ2djVFpTRy93Q2NQWFJBUFp4bWtseTJzCm9rbEh4Q0Z2RTI3eVFCc3llZ29sKzNCNmRXR3dtTHZIRFhROGltc0NnWUVBeDFUQ0JvNGJZY3Q3QWdncmt2UnoKU2ZIazRyOU9mLzNEMUxDRHFPUmluUitYVFFobmtKL2VITHJXNUdXVnk0SDY4Q1hXWjNFVUVhOEVJN1BBaXJqSQprVnZCNElMZm1LUjhISlFhaE1MU2xibVEwV1hDd2cxVXVKbU8rUlJvYkI0UVhQdGs3eHduZVU4a01lVGRYZnU3ClZObzlUVFhjaTFsUlhrL1BBTUtmeWcwQ2dZQjNHTWFFYkdrdW8vRHBVdG5zTXcxd1Q5eUlYNzA1R2h5SitOeksKZ0FaZFhPaU5Od2hXZUs5UjRKcHpzc250NWVCUGdOb1pWeWp0bmZvYTdVMGUvMmVMNldYenMyYzJEcUtKT0hTRApQWXR2UmtJQ3RWcSs5SlIwNXdpanJyY3FFdEtVdUxlVGVOZDFMclIxTE0vdlNBOTFqK1ZzTW9jaEJaTDdUWU1tCnNJVGNLd0tCZ0V4eHdiQ1dkTitYTVpweVpDdTJHbm1OUFNTRFE0RlNmUjNnV0tQcmVwS2xYaDc0YzZIVGZJUGcKSmRRZ21WRVVsS0tNN0xBUXNhT3pKdkI5QTRYN2ZjempVSmtqb0p4aE4rRmVhYWhhK0RNTUwxcmF1M3ZVa3dFSQp4dWhJaHU0RlFhaVVxdG95dHVxSjI0eDFnS09nekpuUGVXSHlQYU1HNmREY3ZCN0F2YlZpCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
---
# Source: chart-virtnet/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: virtnet-conf
  namespace: virtnet
data:
  conf.yml: |
    ipamUnixSocketPath: /var/run/virtnet/virtnet.sock
---
# Source: chart-virtnet/templates/virtnet-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: virtnet
rules:
  - apiGroups:
      - '*'
    resources:
      - '*'
    verbs:
      - "*"
  - nonResourceURLs:
      - '*'
    verbs:
      - "*"
---
# Source: chart-virtnet/templates/virtnet-rbac.yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: virtnet
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: virtnet
subjects:
  - kind: ServiceAccount
    name: virtnet-agent
    namespace: virtnet
  - kind: ServiceAccount
    name: virtnet-ctrl
    namespace: virtnet
---
# Source: chart-virtnet/templates/virtnet-ctrl.yaml
apiVersion: v1
kind: Service
metadata:
  labels:
    app: virtnet-ctrl
    service: virtnet-ctrl
  name: virtnet-ctrl
  namespace: virtnet
spec:
  selector:
    app: virtnet-ctrl
  type: ClusterIP
  ports:
  - name: webhook-port
    port: 8081
    protocol: TCP
    targetPort: 8081
---
# Source: chart-virtnet/templates/virtnet-agent.yaml
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: virtnet-agent
  namespace: virtnet
  labels:
    app: virtnet-agent
spec:
  selector:
    matchLabels:
      app: virtnet-agent
  template:
    metadata:
      labels:
        app: virtnet-agent
    spec:
      hostNetwork: true
      initContainers:
      - name: install-plugins
        image: docker.io/hejianmin/virtnet-plugins:v0.2.11-dev
        command:
          - /bin/sh
          - entrypoint.sh
        imagePullPolicy: IfNotPresent
        volumeMounts:
        - name: cni-bin-path
          mountPath: /host/opt/cni/bin
      containers:
      - name: virtnet-agent
        env:
        - name: LOG_LEVEL
          value: debug
        image: docker.io/hejianmin/virtnet-agent:v0.2.11-dev
        imagePullPolicy: IfNotPresent
        resources:
          limits:
            cpu: 500m
            memory: 128Mi
          requests:
            cpu: 10m
            memory: 64Mi
        volumeMounts:
        - name: ipam-unix-socket-dir
          mountPath: /var/run/virtnet
      serviceAccountName: virtnet-agent
      volumes:
      - name: cni-bin-path
        hostPath:
          path: /opt/cni/bin
          type: DirectoryOrCreate
      - name: ipam-unix-socket-dir
        hostPath:
          path: /var/run/virtnet
          type: DirectoryOrCreate
---
# Source: chart-virtnet/templates/virtnet-ctrl.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: virtnet-ctrl
  namespace: virtnet
  labels:
    app: virtnet-ctrl
spec:
  replicas: 1
  selector:
    matchLabels:
      app: virtnet-ctrl
  template:
    metadata:
      labels:
        app: virtnet-ctrl
    spec:
      hostNetwork: true
      containers:
      - name: virtnet-ctrl
        env:
        - name: LOG_LEVEL
          value: debug
        image: docker.io/hejianmin/virtnet-ctrl:v0.2.11-dev
        imagePullPolicy: IfNotPresent
        resources:
          limits:
            cpu: 500m
            memory: 128Mi
          requests:
            cpu: 10m
            memory: 64Mi
        volumeMounts:
        - name: virtnet-webhook-secret
          mountPath: /etc/virtnet/secret
          readOnly: true
      serviceAccountName: virtnet-ctrl
      volumes:
      - name: virtnet-webhook-secret
        secret:
          secretName: virtnet-webhook-secret
---
# Source: chart-virtnet/templates/secret.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: virtnet-webhook
webhooks:
  - name: subnets.virtnet.io
    rules:
      - apiGroups:
          - virtnet.io
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - subnets
    clientConfig:
      # url: https://192.168.1.16:8081/mutate-virtnet-io-v1alpha1-ippool
      service:
        namespace: virtnet
        name: virtnet-ctrl
        path: /mutate-virtnet-io-v1alpha1-subnet
        port: 8081
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURHRENDQWdDZ0F3SUJBZ0lSQU9mWEZuMFFXTnNMYVN2NXVzaHpnNGt3RFFZSktvWklodmNOQVFFTEJRQXcKRlRFVE1CRUdBMVVFQXhNS2RtbHlkRzVsZEM1cGJ6QWdGdzB5TkRBeU1EWXdNak01TWpaYUdBOHlNakl6TVRJeQpNREF5TXpreU5sb3dGVEVUTUJFR0ExVUVBeE1LZG1seWRHNWxkQzVwYnpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtkcmhnWTZaa2s3U3dSUW9pZE1OcTdKc01WRzVUaDJ5dzFoUlh4L2F6VXYKMWhqZkxuZVpBQnZrMi8zK2ZLWmNlalR3cHJ6WWNjcGxkRFprQ0xsLzlHa0pzUXJxQXhBN1loUGpGbkJINGdacgpZQWlNcG1STWtidFVraGdQTXFYc0NrbU0xbTkzVXNnYk4vY3U1L3E0SWNiRTJaK0pmeDVEMi9vdUwrTzU3RlEvCnowMGwwcCs2RC91RlJlRnBNVWxPa244TkhjM3NvME9DTUVXMVJMY3JqSG00WFppMmxnQkQ2RVBFQ0c1S3JmencKczE1aHp2T05reDRHUmNFL3N0eDh3cDlaYlhGVmFmMy9mcGNNTGhjUnRiNDBQMndjUVl0K1lNams5YzZyOEZGdApMYSs2cjJzbEpmaGx3dDNNUDJqdnljUkpIU3M3WnhyNk04VkZQUGxPN3FzQ0F3RUFBYU5oTUY4d0RnWURWUjBQCkFRSC9CQVFEQWdLa01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTeDZWWDNLaVRUVWl4TndKLzZTRmx4a1hTbC9qQU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBSFhxaloxcitUWlo1bmJwbHhaNEs5dFJJV0dOUCtLMWlKUjhZZzVzRjhWL29UaXF5CjVCck9SVGJONlB0Z3VUby9PTndMMGl0R2Zvb1hucnFVUlNOdzh5UVFzUTdMNE52MGJ1RjN0N20ydnRvaUYyUWsKRldJWGthZzJSU3FpQWxBdkNJNS9yS0xQREorRTFycENPUGFZSzNzNkZFSStYWG5VUzMvd2ExN01KNXBmMEFFOQpzZ2hoRGRpVXphTWNNMy80ZGdjNE42OGpmTUNHQlRpZE5sZFpMUnFBQ1liZTdBWThIb0VnMURINDJFdk9GWVpsClRIcGcxV0ozbEhjOCswVVJJenpOS1dqMVJEbHFYR0ZrV3UzWjc5Nkh0a3JyalhXSnpoMlNieXlPeU9DYm5qaWkKZGVjSGx6OUpTcWVtcmFyaFBEODVVUEtRbnBXK2JvODlpMm1BaUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      # caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYrakNDQStLZ0F3SUJBZ0lKQU0vbDdWd1F1L3VPTUEwR0NTcUdTSWIzRFFFQkRRVUFNRjB4Q3pBSkJnTlYKQkFZVEFrTk9NUkV3RHdZRFZRUUlEQWhUYUdGdVowaGhhVEVSTUE4R0ExVUVCd3dJVTJoaGJtZElZV2t4RVRBUApCZ05WQkFvTUNFUmhiME5zYjNWa01SVXdFd1lEVlFRRERBd3hPVEl1TVRZNExqRXVNVFl3SUJjTk1qUXdNVEl3Ck1EUXdPVEE1V2hnUE1qRXlNekV5TWpjd05EQTVNRGxhTUYweEN6QUpCZ05WQkFZVEFrTk9NUkV3RHdZRFZRUUkKREFoVGFHRnVaMGhoYVRFUk1BOEdBMVVFQnd3SVUyaGhibWRJWVdreEVUQVBCZ05WQkFvTUNFUmhiME5zYjNWawpNUlV3RXdZRFZRUUREQXd4T1RJdU1UWTRMakV1TVRZd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3CmdnSUtBb0lDQVFDNEhjS1FkcHFZSENuVXFnK2JRS08rWTRSaUJ1NmduS21Zcmo3emc4Vm5mbmpIamY3UElPODIKMlJrTE1VbTdvWE1Fd0NNVFVVcjBmOEZTWTU2MHBZSTVEQmpzbXhsaGVnWFhZT1VDODFUVXFQaGV6TElUVmd5Rwo5RzY1NWVIZWNGY1V3ajNpOU84dUZoNTZBYnNkZjMzbXN0aGFjdGZDVytvMjRDUmdabVBpMGtuMEVsZmJRMXRDCmFXS2pFYjY2Y0dpSjVQS0lLOTFDQTl6NzFFTGg4NDlkV0RBZ2tSY2FVMi9aTngydTkwSkhXanRZS2RsQlZBaC8KM1FNSEFYTmM3am9WYzd1dXlrVkF0SGtxZExKWHVLTE9BSXc3UjVXeVFsdXhVYldLOGlLK1IwMnZoSnl6aThiSAo1b2dIVDVZT21PNXlKcW94S3JHaHZKYXpCVktSUzIxbHVDaUJzeWtHeitVZ09tb0hoblpGV0NlOVBqOWpranh0ClEvNGJBWVBObWxZazJwbCs4S1FjT0ZNaFhOOVU5dVdMQVltaGVXa2VTTTNDSmZ5NHNRMFJLUGd1Lys5UERtN1YKc1BNYkx0OVNsdlc2WFQrc0tYUnhDMXltUWp1SHhDWjRxemVHUEJsMGpOTmtqQkVKb0orS2JBYnVaZ2doTHdQbwpDbkUvOGVtQ0huOCs1N1hkcDg4TTJHWFRoNCs0dkJlVEE3M2c4cllSeFNYQTM0UGxwT1hndmw0T3RJRXhXOG9BCjhPK1BheUF2dGdzc3IrOFhiS3pYQ2hpVzVERGpROER3L1oxSkhzbDFkRjc5WjFIWlBTVitLNWdwVXJMMlB4RjgKWGcyNVpEZXc4bHo3TnhpYyticXloWExLQmRXc2lKZjkzYlZtcTNQcTllZ09qTGRTeWlPN0dRSURBUUFCbzRHNgpNSUczTUhjR0ExVWRJd1J3TUc2aFlhUmZNRjB4Q3pBSkJnTlZCQVlUQWtOT01SRXdEd1lEVlFRSURBaFRhR0Z1ClowaGhhVEVSTUE4R0ExVUVCd3dJVTJoaGJtZElZV2t4RVRBUEJnTlZCQW9NQ0VSaGIwTnNiM1ZrTVJVd0V3WUQKVlFRRERBd3hPVEl1TVRZNExqRXVNVGFDQ1FEakxwRzJyMlRmdURBSkJnTlZIUk1FQWpBQU1Bc0dBMVVkRHdRRQpBd0lFOERBVEJnTlZIU1VFRERBS0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJFRUNEQUdod1RBcUFFUU1BMEdDU3FHClNJYjNEUUVCRFFVQUE0SUNBUUNmbFNDTWFCb3FKZFV0aEtldS8zb3NaMGp2MVFUU3hRSk9BdGZYRW1aWmFwNUcKYlM0blhYU0EwSVBmOEdjeFZncWdxc0xadjllaFpCZWZ1RndLK3Yzc0RiaGV0S0s1MTZKbkoxUmZvZW9xa2JCbgpCSTBnOFJPYVY5b2xIa2xuUytrOERZTGlkWVFDQnNCWG4zczh3Zy9zOWpPTHZsVVF6R3d6VWlMNy9rTjRDdzB1Cmpjd1dETTZPbkNiNkFoVjAvbklBbjVibTBKRm9NczBBNWFjQStreVp3ODV3TFRqa3dxWngzbmhQd3VpVW51UVAKZC8xSmg4c1JTK0dUbVc0cEw2VzBkZEdvbDdHc3o3QzUzb2dkNXVKYVJYTnJQck0zRE8vMHprYXpYd0JNczBVQgpndDhCZ2NZME90Yy9zT2VhSmk2UWcyYkIzZmsrUHRhc0kzVmxEY0VibzI3bWtjSjZCRUpONjV6T0Y4QUp6VEhHCnZPZUZMQTh5ajhpREg2ZVZkZHJkZmhxUTNjaFhybnBxbjNPQzVKR3BJZUtIM3JuakRNbUJ4MkZWY0xYNGZsckYKU1FuOXRXcnFONDQyVUdrUG9GYVVFVzZGR1Jsd2s0TlljYW1SYzZDNkdHZE1HRkJIWFk0ajBML1g5REpTam04dwo3U09QTE1BNUpEMjJWZmliVUpmYXEvVVNJaFNOUUY2M1BWQzJMODIzMWpPcDdLYWkwL3A1QXNtME5WKzlmendsCk1ETlVhOUNicUtjbFRhTldia0hwZW1nZTRIWVRnVUdqemVyd2dsamxZUi94dDVHRENVbkcxQWJtMGRUNisxblMKbFJVWkVlaTBNaCsyRTRaVHlQd2s0TU5hU2xoWlRBNVo3UEUxZVp6RDJ2VjExSy9vTTF3TWlVd3FDS3VLSkE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    admissionReviewVersions: ["v1"]
    failurePolicy: Fail
    sideEffects: None
---
# Source: chart-virtnet/templates/secret.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: virtnet-webhook
webhooks:
  - name: subnets.virtnet.io
    rules:
      - apiGroups:
          - virtnet.io
        apiVersions:
          - v1alpha1
        operations:
          - CREATE
          - UPDATE
        resources:
          - subnets
    clientConfig:
      # url: https://192.168.1.16:8081/validate-virtnet-io-v1alpha1-ippool
      service:
        namespace: virtnet
        name: virtnet-ctrl
        path: /validate-virtnet-io-v1alpha1-subnet
        port: 8081
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURHRENDQWdDZ0F3SUJBZ0lSQU9mWEZuMFFXTnNMYVN2NXVzaHpnNGt3RFFZSktvWklodmNOQVFFTEJRQXcKRlRFVE1CRUdBMVVFQXhNS2RtbHlkRzVsZEM1cGJ6QWdGdzB5TkRBeU1EWXdNak01TWpaYUdBOHlNakl6TVRJeQpNREF5TXpreU5sb3dGVEVUTUJFR0ExVUVBeE1LZG1seWRHNWxkQzVwYnpDQ0FTSXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUtkcmhnWTZaa2s3U3dSUW9pZE1OcTdKc01WRzVUaDJ5dzFoUlh4L2F6VXYKMWhqZkxuZVpBQnZrMi8zK2ZLWmNlalR3cHJ6WWNjcGxkRFprQ0xsLzlHa0pzUXJxQXhBN1loUGpGbkJINGdacgpZQWlNcG1STWtidFVraGdQTXFYc0NrbU0xbTkzVXNnYk4vY3U1L3E0SWNiRTJaK0pmeDVEMi9vdUwrTzU3RlEvCnowMGwwcCs2RC91RlJlRnBNVWxPa244TkhjM3NvME9DTUVXMVJMY3JqSG00WFppMmxnQkQ2RVBFQ0c1S3JmencKczE1aHp2T05reDRHUmNFL3N0eDh3cDlaYlhGVmFmMy9mcGNNTGhjUnRiNDBQMndjUVl0K1lNams5YzZyOEZGdApMYSs2cjJzbEpmaGx3dDNNUDJqdnljUkpIU3M3WnhyNk04VkZQUGxPN3FzQ0F3RUFBYU5oTUY4d0RnWURWUjBQCkFRSC9CQVFEQWdLa01CMEdBMVVkSlFRV01CUUdDQ3NHQVFVRkJ3TUJCZ2dyQmdFRkJRY0RBakFQQmdOVkhSTUIKQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTeDZWWDNLaVRUVWl4TndKLzZTRmx4a1hTbC9qQU5CZ2txaGtpRwo5dzBCQVFzRkFBT0NBUUVBSFhxaloxcitUWlo1bmJwbHhaNEs5dFJJV0dOUCtLMWlKUjhZZzVzRjhWL29UaXF5CjVCck9SVGJONlB0Z3VUby9PTndMMGl0R2Zvb1hucnFVUlNOdzh5UVFzUTdMNE52MGJ1RjN0N20ydnRvaUYyUWsKRldJWGthZzJSU3FpQWxBdkNJNS9yS0xQREorRTFycENPUGFZSzNzNkZFSStYWG5VUzMvd2ExN01KNXBmMEFFOQpzZ2hoRGRpVXphTWNNMy80ZGdjNE42OGpmTUNHQlRpZE5sZFpMUnFBQ1liZTdBWThIb0VnMURINDJFdk9GWVpsClRIcGcxV0ozbEhjOCswVVJJenpOS1dqMVJEbHFYR0ZrV3UzWjc5Nkh0a3JyalhXSnpoMlNieXlPeU9DYm5qaWkKZGVjSGx6OUpTcWVtcmFyaFBEODVVUEtRbnBXK2JvODlpMm1BaUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      # caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYrakNDQStLZ0F3SUJBZ0lKQU0vbDdWd1F1L3VPTUEwR0NTcUdTSWIzRFFFQkRRVUFNRjB4Q3pBSkJnTlYKQkFZVEFrTk9NUkV3RHdZRFZRUUlEQWhUYUdGdVowaGhhVEVSTUE4R0ExVUVCd3dJVTJoaGJtZElZV2t4RVRBUApCZ05WQkFvTUNFUmhiME5zYjNWa01SVXdFd1lEVlFRRERBd3hPVEl1TVRZNExqRXVNVFl3SUJjTk1qUXdNVEl3Ck1EUXdPVEE1V2hnUE1qRXlNekV5TWpjd05EQTVNRGxhTUYweEN6QUpCZ05WQkFZVEFrTk9NUkV3RHdZRFZRUUkKREFoVGFHRnVaMGhoYVRFUk1BOEdBMVVFQnd3SVUyaGhibWRJWVdreEVUQVBCZ05WQkFvTUNFUmhiME5zYjNWawpNUlV3RXdZRFZRUUREQXd4T1RJdU1UWTRMakV1TVRZd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3CmdnSUtBb0lDQVFDNEhjS1FkcHFZSENuVXFnK2JRS08rWTRSaUJ1NmduS21Zcmo3emc4Vm5mbmpIamY3UElPODIKMlJrTE1VbTdvWE1Fd0NNVFVVcjBmOEZTWTU2MHBZSTVEQmpzbXhsaGVnWFhZT1VDODFUVXFQaGV6TElUVmd5Rwo5RzY1NWVIZWNGY1V3ajNpOU84dUZoNTZBYnNkZjMzbXN0aGFjdGZDVytvMjRDUmdabVBpMGtuMEVsZmJRMXRDCmFXS2pFYjY2Y0dpSjVQS0lLOTFDQTl6NzFFTGg4NDlkV0RBZ2tSY2FVMi9aTngydTkwSkhXanRZS2RsQlZBaC8KM1FNSEFYTmM3am9WYzd1dXlrVkF0SGtxZExKWHVLTE9BSXc3UjVXeVFsdXhVYldLOGlLK1IwMnZoSnl6aThiSAo1b2dIVDVZT21PNXlKcW94S3JHaHZKYXpCVktSUzIxbHVDaUJzeWtHeitVZ09tb0hoblpGV0NlOVBqOWpranh0ClEvNGJBWVBObWxZazJwbCs4S1FjT0ZNaFhOOVU5dVdMQVltaGVXa2VTTTNDSmZ5NHNRMFJLUGd1Lys5UERtN1YKc1BNYkx0OVNsdlc2WFQrc0tYUnhDMXltUWp1SHhDWjRxemVHUEJsMGpOTmtqQkVKb0orS2JBYnVaZ2doTHdQbwpDbkUvOGVtQ0huOCs1N1hkcDg4TTJHWFRoNCs0dkJlVEE3M2c4cllSeFNYQTM0UGxwT1hndmw0T3RJRXhXOG9BCjhPK1BheUF2dGdzc3IrOFhiS3pYQ2hpVzVERGpROER3L1oxSkhzbDFkRjc5WjFIWlBTVitLNWdwVXJMMlB4RjgKWGcyNVpEZXc4bHo3TnhpYyticXloWExLQmRXc2lKZjkzYlZtcTNQcTllZ09qTGRTeWlPN0dRSURBUUFCbzRHNgpNSUczTUhjR0ExVWRJd1J3TUc2aFlhUmZNRjB4Q3pBSkJnTlZCQVlUQWtOT01SRXdEd1lEVlFRSURBaFRhR0Z1ClowaGhhVEVSTUE4R0ExVUVCd3dJVTJoaGJtZElZV2t4RVRBUEJnTlZCQW9NQ0VSaGIwTnNiM1ZrTVJVd0V3WUQKVlFRRERBd3hPVEl1TVRZNExqRXVNVGFDQ1FEakxwRzJyMlRmdURBSkJnTlZIUk1FQWpBQU1Bc0dBMVVkRHdRRQpBd0lFOERBVEJnTlZIU1VFRERBS0JnZ3JCZ0VGQlFjREFUQVBCZ05WSFJFRUNEQUdod1RBcUFFUU1BMEdDU3FHClNJYjNEUUVCRFFVQUE0SUNBUUNmbFNDTWFCb3FKZFV0aEtldS8zb3NaMGp2MVFUU3hRSk9BdGZYRW1aWmFwNUcKYlM0blhYU0EwSVBmOEdjeFZncWdxc0xadjllaFpCZWZ1RndLK3Yzc0RiaGV0S0s1MTZKbkoxUmZvZW9xa2JCbgpCSTBnOFJPYVY5b2xIa2xuUytrOERZTGlkWVFDQnNCWG4zczh3Zy9zOWpPTHZsVVF6R3d6VWlMNy9rTjRDdzB1Cmpjd1dETTZPbkNiNkFoVjAvbklBbjVibTBKRm9NczBBNWFjQStreVp3ODV3TFRqa3dxWngzbmhQd3VpVW51UVAKZC8xSmg4c1JTK0dUbVc0cEw2VzBkZEdvbDdHc3o3QzUzb2dkNXVKYVJYTnJQck0zRE8vMHprYXpYd0JNczBVQgpndDhCZ2NZME90Yy9zT2VhSmk2UWcyYkIzZmsrUHRhc0kzVmxEY0VibzI3bWtjSjZCRUpONjV6T0Y4QUp6VEhHCnZPZUZMQTh5ajhpREg2ZVZkZHJkZmhxUTNjaFhybnBxbjNPQzVKR3BJZUtIM3JuakRNbUJ4MkZWY0xYNGZsckYKU1FuOXRXcnFONDQyVUdrUG9GYVVFVzZGR1Jsd2s0TlljYW1SYzZDNkdHZE1HRkJIWFk0ajBML1g5REpTam04dwo3U09QTE1BNUpEMjJWZmliVUpmYXEvVVNJaFNOUUY2M1BWQzJMODIzMWpPcDdLYWkwL3A1QXNtME5WKzlmendsCk1ETlVhOUNicUtjbFRhTldia0hwZW1nZTRIWVRnVUdqemVyd2dsamxZUi94dDVHRENVbkcxQWJtMGRUNisxblMKbFJVWkVlaTBNaCsyRTRaVHlQd2s0TU5hU2xoWlRBNVo3UEUxZVp6RDJ2VjExSy9vTTF3TWlVd3FDS3VLSkE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    admissionReviewVersions: ["v1"]
    failurePolicy: Fail
    sideEffects: None
